<!DOCTYPE html>
<html lang="zh-tw">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>image filter</title>
	<meta name="author" content="ocean">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
</head>
<body>
	<img id="sourceImg">
	<img class="outImg">
	<img class="outImg">
</body>
<script src="./src/imagefilter.js"></script>
<script>
	var sourceImg = document.getElementById('sourceImg');
	var outImgs = document.querySelectorAll('.outImg');
	var loadHandler = function(e){	
		outImgs[0].setAttribute('src', 'data:image/png;base64,'+ImageFilter.negativeBase64(sourceImg, 'png'));
		outImgs[1].setAttribute('src', 'data:image/png;base64,'+ImageFilter.grayBase64(sourceImg, 'png'));
		
	};
	sourceImg.addEventListener('load' ,loadHandler , false);
    sourceImg.src = "./resources/avatar.png?"+ new Date().getTime();
    

</script>
</html>
